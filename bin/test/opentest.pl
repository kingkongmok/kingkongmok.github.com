#!/usr/bin/perl
#===============================================================================
#
#         FILE: opentest.pl
#
#        USAGE: ./opentest.pl  
#
#  DESCRIPTION: test open/filehandle and opendir/dirhandle.
#
#      OPTIONS: ---
# REQUIREMENTS: ---
#         BUGS: ---
#        NOTES: ---
#       AUTHOR: Kingkong Mok (), kingkongmok AT gmail DOT com
#      COMPANY: 
#      VERSION: 1.0
#      CREATED: 12/06/2013 03:54:52 PM
#     REVISION: ---
#===============================================================================

use strict;
use warnings;

#-------------------------------------------------------------------------------
#  test for open and FH
#-------------------------------------------------------------------------------
my $filename = "/tmp/testfile" ;
open my$fh , "<", $filename ;  

sub useOpen {
#open my$fh , "<", $filename || die $?;  
    print "it's from open.\n";
    while ( <$fh> ) {
        print ;
    }
    return ;
} ## --- end sub useOpen


sub usereadline {
    print "it's from readline.\n";
    my$fh = shift ;
    my@file= readline$fh;
    foreach ( @file ) {
        print ;
    }
    
} ## --- end sub usereadline

&usereadline($fh) ;
&useOpen($fh) ;

#-------------------------------------------------------------------------------
#  test for the opendir and DH .
#-------------------------------------------------------------------------------
#opendir(my $dh, "/tmp12313") || die "error is here",  $!;
opendir(my $dh, "/tmp") || do {
print "error"; 
print "error warning" ;
die $! ;
}

;
my @dots =  grep { /^ip/ && -f "/tmp/$_" } readdir($dh);
closedir$dh ;


local $\="\n" ;
print for @dots ;

